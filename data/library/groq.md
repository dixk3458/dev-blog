# GROQ 쿼리

**GROQ**는 쿼리 언어로 애플리케이션이 필요로 하는 정확한 정보를 설명하고, 여러 문서 집합에서 정보를 결합해 필요한 정필드만 포함된 응답을 생성할 수 있다.

### 소개

기본 사항부터 시작해보자. 다음 간단한 쿼리를 살펴보고 세부 사항을 분석해보자.

`*[_type == “movie” && releaseYear ≥ 1989]`

일반적으로 쿼리는 *로 시작한다. *는 데이터셋의 모든 문서를 나타낸다. 유용한 작업을 수행하기위해서 대괄호 내의 필터가 온다. 위의 필터는 두 개의 조건으로 구성되어있다.

### 필터

첫 번째로 문서 유형으로 필터링을 한다. Sanity의 모든 문서는 유형을 가져야 하며, 유형은 항상 `_type` 필드에 있다. 따라서 `_type == “movie”` 는 이 쿼리를 `“movie”` 유형으로 제한하는것이다.

`&&`는 “그리고 ”연산자이다.

두 번째 조건인 `releaseYear ≥ 1989` 는 영화에 `releaseYear`라는 숫자를 포함한다고 가정한다. 이 숫자가 `1989`보다 크거나 같은 문서로 필터링을 하는것이다.

### 프로젝션

프로젝션은 사용자 입맛에 맞게 데이터 형태를 변환하는것이다. 위의 예시의 경우 영화에는 배우, 스태프, 포스터 등 다양한 정보를 포함하는 거대한 문서일 수 있다. 간단하게 영화 목록만을 렌더링 하는것이 목표라면 자원을 낭비하는것이다. 이때 프로젝션이 유용하게 사용된다.

프로젝션은 중괄호로 둘러싸여 영화에 대해 표시하려는 데이터를 설명한다. 이 쿼리에서 `_id`, `title`및 `releaseYear`를 사용하여 각 영화에 대한 식별자, 제목 및 출시 연도를 얻는 간단하고 명확한 프로젝션을 작성할 수 있다.

`*[_type == 'movie' && releaseYear >= 1979]{ _id, title, releaseYear }`

나는 이 포스트에서 간단하게 사용방법만 다루었는데, GROQ는 이 밖에 더 많은 기능을 제공한다.

궁금하다면 [공식 문서](https://www.sanity.io/docs/query-cheat-sheet#170b92d4caa2)를 를 참고하자.
